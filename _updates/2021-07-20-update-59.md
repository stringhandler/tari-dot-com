---
layout: update
tag: Developer Update
date: 2021-07-
author: Mike Berry
thumbnail: update-background.jpg
title: Tari Update
class: subpage
---

## Tari Update

Two weeks ago the Weatherwax testnet was launched and is currently at height 8120. The Android on iOS apps are still on the Stibbons network but will be updated soon.

To test out the new network, which enables additional functionality via
TariScript, a stress test was performed. Six console wallets each sent 600
transactions to 10 receiving console wallets, totalling 36000 transactions.

We were looking for a number of things during the stress test.

- Were all transactions get mined?
- Did the wallets end up with the correct status?
- Were there any chain splits or reorgs that could not be recovered
- Did the transactions reach all the miners

The main aim of the stress test is to find bugs and inefficiencies that can be fixed, and to determine reasonable settings for rate limiting and banning nodes.

### Overall results

The results were very good. The main finding was that many nodes banned each other due to message flooding. This has a knock on effect on transaction propagation and reorgs. When nodes get banned, small chain forks occur and when they are unbanned, the strongest chain wins. The largest reorg was 17 blocks, and all nodes handled this without any errors. This is a great result.

### Were all transactions mined?

Out of the 36000 transactions, 48 were still in the broadcast stage, meaning that they were sent to a base node, but for some reason did not make it into the chain. This is most likely to a reorg, and the wallet should probably retry these.

### Did the wallets end up with the correct status

The number of transactions correctly detected as mined for the wallets was 100%, 99.98%, 99.9%, 99.83%, 99.58% and 99.53%. This number was higher than previous stress tests, but there are some bugs that were identified and can be fixed.

### Were there any chain splits that could not be recovered

There were none. We were very pleased to see the nodes reorg to stronger chains and continue processing blocks

### Did the transactions reach all the miners

Although the vast majority of transactions were mined, there were times when some nodes had full mempools, but empty or lean blocks were being added to the chain. This means that the miners mining them were not aware of the transactions in the mempool. We believe this is mainly due to the banning, but future tests will need to be done to confirm that there isn't another underlying problem.

### The way forward

Next up will be to set higher banning limits and repeat the test. After that will be to repeat the test with one-sided payments and see how the wallets handle.
